{"version":3,"sources":["webpack:///./src/utils/index.js","webpack:///./src/views/list/index.vue?2171","webpack:///src/views/list/index.vue","webpack:///./src/views/list/index.vue?8bca","webpack:///./src/views/list/index.vue"],"names":["evil","fn","Fn","Function","obj2string","o","r","replace","sort","i","length","push","join","document","all","test","toString","render","_vm","this","_h","$createElement","_c","_self","staticStyle","_v","attrs","on","add","dataTable","_l","item","key","prop","label","scopedSlots","_u","scope","_s","row","$event","edit","staticRenderFns","name","data","tableHead","props","components","methods","init","formData","list","forEach","type","columns","co","li","tableList","JSON","parse","window","localStorage","getItem","getTableHead","className","control","$router","computed","mounted","component"],"mappings":"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","file":"js/chunk-23a9f348.4c0bf3b0.js","sourcesContent":["export function evil(fn) {\r\n  const Fn = Function // 一个变量指向Function，防止有些前端编译工具报错\r\n  return new Fn('return ' + fn)()\r\n}\r\n\r\nexport function jsonStringify(obj) {\r\n  return JSON.stringify(obj, function (key, val) {\r\n    if (typeof val === 'function') {\r\n      return val + ''\r\n    }\r\n    return val\r\n  })\r\n}\r\n\r\nexport function jsonParse(string) {\r\n  return JSON.parse(string, function (k, v) {\r\n    if (v.indexOf && v.indexOf('function') > -1) {\r\n      return evil('(function(){return ' + v + ' })()')\r\n    }\r\n    return v\r\n  })\r\n}\r\n\r\nexport function obj2string(o) {\r\n  var r = []\r\n  if (typeof o === 'string') {\r\n    return '\"' + o.replace(/([\\\\'\\\\\"\\\\])/g, '\\\\$1').replace(/(\\n)/g, '\\\\n').replace(/(\\r)/g, '\\\\r').replace(/(\\t)/g, '\\\\t') + '\"'\r\n  }\r\n  if (typeof o === 'object') {\r\n    if (!o.sort) {\r\n      for (let i in o) {\r\n        r.push(i + ':' + obj2string(o[i]))\r\n      }\r\n      if (!!document.all && !/^\\n?function\\s*toString\\(\\)\\s*\\{\\n?\\s*\\[native code\\]\\n?\\s*\\}\\n?\\s*$/.test(o.toString)) {\r\n        r.push('toString:' + o.toString.toString())\r\n      }\r\n      r = '{' + r.join() + '}'\r\n    } else {\r\n      for (let i = 0; i < o.length; i++) {\r\n        r.push(obj2string(o[i]))\r\n      }\r\n      r = '[' + r.join() + ']'\r\n    }\r\n    return r\r\n  }\r\n  return o && o.toString()\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"margin\":\"20px\"}},[_c('h1',[_vm._v(\"数据列表\")]),_c('ak-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.add}},[_vm._v(\"添加\")]),_c('br'),_c('br'),_c('ak-table',{attrs:{\"data\":_vm.dataTable}},[_vm._l((_vm.tableHead),function(item){return _c('ak-column',{key:item.prop,attrs:{\"order\":1,\"label\":item.label,\"prop\":item.prop},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n        \"+_vm._s(scope.row[item.prop])+\"\\n      \")]}}],null,true)})}),_c('ak-column',{attrs:{\"label\":\"操作\",\"order\":10},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('ak-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.edit(scope)}}},[_vm._v(\"修改\")]),_c('ak-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.edit(scope,'detail')}}},[_vm._v(\"详情\")])]}}])})],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Created by 337547038 on 2021. -->\r\n<template>\r\n  <div style=\"margin: 20px\">\r\n    <h1>数据列表</h1>\r\n    <ak-button @click=\"add\" type=\"primary\">添加</ak-button>\r\n    <br><br>\r\n    <ak-table :data=\"dataTable\">\r\n      <ak-column\r\n        :order=\"1\"\r\n        v-for=\"item in tableHead\"\r\n        :label=\"item.label\"\r\n        :prop=\"item.prop\"\r\n        :key=\"item.prop\">\r\n        <template slot-scope=\"scope\">\r\n          {{scope.row[item.prop]}}\r\n        </template>\r\n      </ak-column>\r\n      <ak-column label=\"操作\" :order=\"10\">\r\n        <template slot-scope=\"scope\">\r\n          <ak-button type=\"text\" @click=\"edit(scope)\">修改</ak-button>\r\n          <ak-button type=\"text\" @click=\"edit(scope,'detail')\">详情</ak-button>\r\n        </template>\r\n      </ak-column>\r\n    </ak-table>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {evil} from '@/utils'\r\n\r\nexport default {\r\n  name: 'list',\r\n  data() {\r\n    return {\r\n      dataTable: [],\r\n      tableHead: []\r\n    }\r\n  },\r\n  props: {},\r\n  components: {},\r\n  methods: {\r\n    init() {\r\n      // 从表单数据里提取表头相关的\r\n      const formData = evil(window.localStorage.getItem('formDesign'))\r\n      formData && formData.list.forEach(item => {\r\n        if (item.type === 'grid') {\r\n          item.columns.forEach(co => {\r\n            co.list.forEach(li => {\r\n              if (li.tableList) {\r\n                this.getTableHead(li)\r\n              }\r\n            })\r\n          })\r\n        } else if (item.type !== 'childTable') {\r\n          if (item.tableList) {\r\n            this.getTableHead(item)\r\n          }\r\n        }\r\n      })\r\n      // 获取列表数据\r\n      this.dataTable = [JSON.parse(window.localStorage.getItem('formData'))]\r\n    },\r\n    getTableHead(item) {\r\n      this.tableHead.push({\r\n        label: item.item.label,\r\n        className: item.control.className,\r\n        prop: item.name\r\n      })\r\n    },\r\n    add() {\r\n      this.$router.push({path: 'form', query: {formId: '11'}})\r\n    },\r\n    edit(row, type) {\r\n      this.$router.push({path: 'form', query: {formId: '11', id: '23', detail: type}})\r\n    }\r\n  },\r\n  computed: {},\r\n  mounted() {\r\n    this.init()\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.7@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.7@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=acb22344&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.7@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}